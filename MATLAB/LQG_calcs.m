clear all, close all, clc

%% declare physical dimensions
g = 9.8066;
m = 0.975;
Ixx = 0.004412;
Iyy = 0.004443;
Izz = 0.005302;
d = 0.125;
c = 0.15;

Del = [0 0.025 1];

%% A matrix
A_real = [0 0 0 1 0 0 0 0 0 0 0 0 
          0 0 0 0 1 0 0 0 0 0 0 0
          0 0 0 0 0 1 0 0 0 0 0 0
          0 0 0 0 0 0 0 g 0 0 0 0
          0 0 0 0 0 0 -g 0 0 0 0 0
          0 0 0 0 0 0 0 0 0 0 0 0
          0 0 0 0 0 0 0 0 0 1 0 0
          0 0 0 0 0 0 0 0 0 0 1 0
          0 0 0 0 0 0 0 0 0 0 0 1
          0 0 0 0 0 0 0 0 0 0 0 0
          0 0 0 0 0 0 0 0 0 0 0 0
          0 0 0 0 0 0 0 0 0 0 0 0];
      
 
 A = [0 0 0 1 0 0
      0 0 0 0 1 0 
      0 0 0 0 0 1
      0 0 0 0 0 0
      0 0 0 0 0 0
      0 0 0 0 0 0];
 
%% B matrix

B_real = [0 0 0 0
     0 0 0 0
     0 0 0 0
     0 0 0 0
     0 0 0 0
     1/m 0 0 0
     0 0 0 0
     0 0 0 0
     0 0 0 0
     0 1/Ixx 0 0
     0 0 1/Iyy 0
     0 0 0 1/Izz];
     
 B = [0 0 0 0
      0 0 0 0
      0 0 0 0
      0 1/Ixx 0 0
     0 0 1/Iyy 0
     0 0 0 1/Izz];
      
%% C matrix

C_real = eye(12);
C = eye(6);
 
%% D matrix

D_real = B_real;
D = B;


%%

Q = [7.5 0 0 0 0 0
     0 7.5 0 0 0 0
     0 0 1 0 0 0
     0 0 0 0.1 0 0
     0 0 0 0 0.1 0
     0 0 0 0 0 1];
 

    
%%
R = 0.005;

N = 0;
 

sys_ss = ss(A,B,C,D);

[K, S, CLosed_poles] = lqr(sys_ss,Q,R,N);


%step(sys_ss)